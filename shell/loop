#!/usr/bin/env bun

// Required parameters:
// @raycast.schemaVersion 1
// @raycast.title Loop
// @raycast.mode fullOutput

// Optional parameters:
// @raycast.icon üîÅ
// @raycast.argument1 { "type": "text", "placeholder": "command" }
// @raycast.argument2 { "type": "text", "placeholder": "count" }
// @raycast.argument3 { "type": "text", "placeholder": "wait interval", "optional": true }

import { runNonLogin } from "..";

const command = process.argv[2];
const count = process.argv[3];
const waitInterval = process.argv[4];

let options = `--command="${command}" --count=${count}`;
if (waitInterval) options += ` --wait=${waitInterval}`;

await runNonLogin("loop.py", options);
